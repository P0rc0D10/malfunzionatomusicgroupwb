<!DOCTYPE html>
<html lang="{{$.Site.LanguageCode}}">
    <head>

        {{ $root := .Site.BaseURL }}
        {{ $url := urls.Parse $root }}

        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="description" content='{{ .Param "description" }}'>
        <meta name="keywords" content="{{ with .Params.Keywords }}{{ delimit . ", " }}{{ else }}{{ .Site.Params.Keywords }}{{ end }}">
        {{ with .Site.Params.publisher }}<meta name="publisher" content="{{- . -}}">{{ end }}
        <meta name="title" content="{{ .Site.Title }}">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="viewport" content="width=device-width,minimum-scale=1">

        <title>{{block "title" .}}{{.Site.Title}}{{end}}{{with .Page.Title}} - {{.}}{{end}}</title>

        <link rel="stylesheet" href="{{ $root }}/style.css">
        <link rel="alternate" href="feed" type="application/atom+xml" title="{{ .Site.Title }}"/>
        <link rel="manifest" href="{{ $root }}/manifest.json">
        {{ partial "site/favicons" . }}

        {{ with .OutputFormats.Get "rss" -}}
        {{ printf `<link rel="%s" type="%s" href="%s" title="%s" />` .Rel .MediaType.Type .Permalink $.Site.Title | safeHTML }}
        {{ end -}}

        {{ block "schema" . }}{{ end }}

        {{ template "_internal/opengraph.html" . }}

	</head>
	<body>
        <header class="ui">{{ block "header" . }}{{- partial "site/header.html" . -}}{{ end }}</header>
		<nav class="ui">{{ block "nav" . }}{{- partial "site/nav.html" . -}}{{ end }}</nav>
		<main>
            {{ block "main" . }}{{- partial "site/main.html" . -}}{{ end }}
        </main>
		<footer class="ui">{{ block "footer" . }}{{- partial "site/footer.html" . -}}{{ end }}</footer>
    </body>
</html>

