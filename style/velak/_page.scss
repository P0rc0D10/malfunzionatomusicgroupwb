@use 'typography';

// Program/Records data list base style

.data-list {
    width: 100%;
    // max-width: 600px;
    overflow-x: hidden;
    > li {
        display: flex;
        align-items: center;
        width: 100%;
        height: 100%;
        height: 2rem;
    overflow-x: hidden;
        white-space: nowrap;
        border-bottom: 1px solid var(--background);
        > *:not(.artists) {
            // z-index: 10000;
        }
        > .meta {
            display: flex;
            align-items: center;
            gap: 0.5ch;
            padding: 0.5ch 1ch;
            height: 100%;
            @include typography.meta(98%);
            text-transform: uppercase;
            background: var(--b_med);
            color: var(--f_low);
        }
        > .title {
            order: 2;
            padding: 0 0.75ch;
            font-size: 1.25rem;
            font-weight: 600;
            text-transform: uppercase;
            white-space: nowrap;
            background: var(--background);
        }
        > .date {
            order: 1;
        }
        > .artists {
            display: flex;
            width: 100%;
            // height: 100%;
            color: var(--f_low);
            // background: var(--b_med);
            // min-height: 100%;
            overflow-x: hidden;
            // &::before, &::after {
            //     content: "";
            //     position: absolute;
            //     height: 1.5em;
            //     width: 2rem; //rem;
            //     z-index: 1000;
            //     //filter: blur(20px);
            // }
            // &::before {
            //     background: linear-gradient(90deg, rgba(9,9,9,0.8), rgba(9,9,9,0.0));
            //     width: 1vw; //rem;
            // }
            //     &::after {
            //         background: linear-gradient(-90deg, rgba(9,9,9,0.8), rgba(9,9,9,0.0));
            //         width: 5vw; //rem;
            //         right: 0;
            //     }
            > ul.artists {
                display: inline-flex;
                white-space: nowrap;
                text-transform: lowercase;
                // background: var(--background);
                > li {
                    margin: 0 0.125ch;
                    &::after {
                        content: ',';
                        margin-right: 0.5ch;
                    }
                }
            }
        }
    }
}

ul.artists {
    text-transform: lowercase;
    &, ul, li { 
        list-style: none;
    }
    li {
        // line-height: 1em;
    }
    > li {
        display: flex;
        // margin-bottom: 1em;
        // line-height: 1em;

        > span.group {
           margin-right: 0.5ch; 
        }
        > ul.collab {
            display: flex;
            //flex-wrap: wrap;
            > li {
                display: flex;
                white-space: nowrap;
                &:not(:last-child) {
                    &::after {
                        content: "+";
                        margin: 0 0.5ch;
                    }
                }
            }
        }
    }
}

article.content {
    display: flex;
    flex-direction: column;
    gap: 2rem;
    > .title {
        order: 1;
        text-transform: lowercase;
        position: relative;
        left: -2px; // HACK
    }
    > .details {
        order: 2;
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        margin-bottom: 1rem;
        column-gap: 1em;
        align-items: baseline;
    }
    > .artists {
        font-size: 1.5rem;
    }
    > .content {
        // order: 4;
    }
    > .gallery {
        order: 1000;
    }
    > nav {
        order: 10000;
    }
}


//// --- Program ---------------------------------------------------------------

ol.data-list.program {
    > li.event {
        > .artists {
            order: 3;
        }
        > .location {
            order: 4;
        }
        &.upcoming {
            // background: red;
            // filter: invert(100%);
            > .title {
                // font-size: 150%;
            }
        }
    }
}

article.event {
    > .details {
        order: 2;
        align-items: baseline;
        //padding: 1rem 0;
        > * {
            display: flex;
            // i {
            //     // margin-right: 0.25ch;
            // }
            // &:not(:last-child) {
            //     //margin-right: 1ch;
            // }
        }
        // .date {
        //     //display: inline-flex;
        //     //flex-wrap: wrap;
        //     //flex-direction: row;
        // }
        // .location {
        //     //display: inline-flex;
        // }
    }
    > .artists {
        order: 3;
    }
    > .content {
        order: 4;
    }
    > *.audiofiles {
        order: 5;
    }
    > .gallery {
        order: 6;
    }
    nav.prev_next {
        justify-self: flex-end;
    }
}


//// --- Artists ----------------------------------------------------------------

main[data-section="artists"] {
    // list
    &[data-kind="section"] {
        > article {
            > ul.artists {
                // columns: 4;
                // display: flex;
                // flex-direction: column;
                // flex-wrap: wrap;
                // column-count: auto;
                column-width: 200px;
                font-size: 1.25rem;
            }
        }
    }
    // single
    &[data-kind="page"] {
        > article.artist {
            > .title {
                order: 1;
            }
            > .details {
                order: 2;
            }
            > .content {
                order: 3;
            }
            > .program {
                order: 4;
            }
            > .records {
                order: 5;
            }
            > .gallery {
                order: 6;
            }
            nav.prev_next {
                justify-self: flex-end;
            }
        }
    }
}

//// --- Records ---------------------------------------------------------------

ol.data-list.records {
    > li {
        > .format {
            order: 1; 
        }
        > img {
            order: 100; 
            width: auto;
            height: 100%;
            // border: 1px solid var(--f_low);
            filter: brightness(26%) contrast(90%) grayscale(100%) invert(5%);
            // transition: filter 0.1s;
            &:hover {
                filter: none;
            }
        }
        > .title {
            order: 3; 
        }
        > .date {
            order: 2; 
        }
        > .artists {
            order: 5;
        }
        > .label {
            order: 4;
        }
    }
}

main[data-section="records"] {
    &[data-kind="section"] { // list
        > article {
            > .artists {
                order: 3;
            }
            // > img {
            //     width: 1rem;
            // }
            > nav {
                order: 10000;
            }
            // ol.records {
                // display: flex;
                // flex-wrap: wrap;
            //     gap: 1rem;
            //     column-gap: 2rem;
            //     list-style: none;
            //     > li {
            //
            //         img {
            //             max-width: 140px;
            //         }
            //     }
            // }
        }
    }
    &[data-kind="page"] { // single
        > article {
            > .title {
                order: 1;
            }
            > .details {
                order: 2;
            }
            > .artists {
                order: 3;
            }
            > .content {
                order: 4;
            }
            > .gallery {
                order: 5;
            }
        } 
    }
}

//// --- Stream ----------------------------------------------------------------

article.stream {
    display: grid;
    place-items: center;
    padding: 4rem;
    canvas.spectrum {
        //position: absolute;
         //z-index: 100;
        background: var(--f_low);
        border-radius: 100%;
        &.hidden {
            cursor: default;
            pointer-events: none;
            display: none;
        }
    }
}
